{% extends 'base.html' %} {% block content %}
<h1>{% block title %} Real Estate Assistant {% endblock %}</h1>

<form id="assistantForm" method="post">
  <div class="form-group">
    <label for="message">Enter your message:</label>
    <textarea
      id="message"
      name="message"
      rows="4"
      cols="50"
      class="form-control"
      value="{{ request.form['user_message'] }}"
    ></textarea>
  </div>
  <div class="form-group">
    <button type="submit" class="btn btn-primary">Submit</button>
  </div>
</form>
<br />
<br />
<div>User: {{input|safe}}</div>
<div>Assistant: {{response|safe}}</div>

<!-- Display response from assistant here
<div id="response"></div>

<script>
  document
    .getElementById("assistantForm")
    .addEventListener("submit", function (event) {
      event.preventDefault();
      var message = document.getElementById("message").value;

      fetch("/assistant", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({ message: message }),
      })
        .then((response) => response.json())
        .then((data) => {
          document.getElementById("response").innerHTML = data.response;
        })
        .catch((error) => console.error("Error:", error));
    });
</script> -->

{% endblock %}
